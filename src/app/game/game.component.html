<div class="game">
  <div class="header">
    <div class="controls">
      @if (running) {
      <button (click)="stopGame()">Stop Game</button>
      } @else {
      <button (click)="startGame()">Start Game</button>
      }
      <button (click)="resetGame()">Reset Game</button>
      <button (click)="randomizeBoard()">Random Board</button>
      @if (colorMode) {
      <button (click)="flipColorMode()">B&W</button>
      } @else {
      <button
        (click)="flipColorMode()"
        [ngStyle]="
          colorButtonHovered
            ? { 'background-color': currentColor }
            : { 'background-color': '#ffffff' }
        "
        (mouseover)="colorButtonHovered = true"
        (mouseout)="colorButtonHovered = false"
      >
        Color
      </button>
      }
      <form
        name="boardSizeForm"
        [formGroup]="boardSizeForm"
        (ngSubmit)="handleFormSubmit()"
        class="pill"
      >
        <label for="boardSize" aria-hidden="false">Size</label>
        <input
          type="number"
          min="22"
          max="122"
          step="2"
          id="boardSize"
          formControlName="boardSize"
          value="{{ boardSize }}"
          title="Value from {{ minBoardSize }} to {{ maxBoardSize }}"
        />
        <button type="submit" hidden></button>
      </form>
      <!-- </div> -->
    </div>
    <div class="details">
      <span>Iteration: {{ this.iteration.toString().padStart(6, "0") }}</span>
      <span
        >Living Cells: {{ this.livingCells.toString().padStart(6, "0") }}</span
      >
    </div>
    <div class="inputs input-group"></div>
  </div>
  <div>
    <div class="board">
      <div *ngFor="let row of board; let rowIndex = index">
        <div *ngFor="let cell of row; let columnIndex = index">
          <!-- datasets added for future event use -->
          <div
            *ngIf="!getCellValue(boardMap, rowIndex, columnIndex)"
            class="cell light"
            [ngStyle]="{ width: cellSize, height: cellSize }"
            [attr.data-row]="rowIndex"
            [attr.data-col]="columnIndex"
            (click)="flipCell(rowIndex, columnIndex)"
          ></div>
          <div
            *ngIf="getCellValue(boardMap, rowIndex, columnIndex) && !colorMode"
            class="cell dark"
            [ngStyle]="{ width: cellSize, height: cellSize }"
            [attr.data-row]="rowIndex"
            [attr.data-col]="columnIndex"
            (click)="flipCell(rowIndex, columnIndex)"
          ></div>
          <div
            *ngIf="getCellValue(boardMap, rowIndex, columnIndex) && colorMode"
            class="cell"
            [ngStyle]="{
              'background-color': currentColor,
              height: cellSize,
              width: cellSize
            }"
            [attr.data-row]="rowIndex"
            [attr.data-col]="columnIndex"
            (click)="flipCell(rowIndex, columnIndex)"
          ></div>
        </div>
      </div>
    </div>
  </div>
  <div></div>
</div>
